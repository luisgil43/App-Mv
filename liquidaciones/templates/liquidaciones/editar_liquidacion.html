{% extends 'dashboard_admin/base.html' %}

{% block dashboard_content %}
<div class="max-w-4xl mx-auto bg-white shadow p-6 rounded-xl mt-6">
  <h2 class="text-2xl font-bold text-gray-800 mb-6">✏️ Editar Liquidación #{{ liquidacion.id }}</h2>

  <form method="POST" enctype="multipart/form-data" class="grid grid-cols-1 md:grid-cols-2 gap-6">
    {% csrf_token %}
    {{ form.non_field_errors }}

    <!-- Técnico -->
    <div>
      {{ form.tecnico.label_tag }}  
      {{ form.tecnico }}
    </div>

    <!-- Mes -->
    <div>
      {{ form.mes.label_tag }}  
      {{ form.mes }}
    </div>

    <!-- Año -->
    <div>
      {{ form.año.label_tag }}  
      {{ form.año }}
    </div>

    <!-- Monto -->
    <div>
      {{ form.monto.label_tag }}  
      {{ form.monto }}
    </div>

    <!-- Archivo PDF sin firmar -->
    <div class="md:col-span-2">
      <label class="block font-semibold text-gray-700 mb-1">Liquidación de Sueldo:</label>
      {% if form.instance.archivo_pdf_liquidacion %}
        <p class="text-sm text-gray-600 mb-2">
          Actualmente: <code>{{ form.instance.archivo_pdf_liquidacion.name }}</code>
        </p>
      {% endif %}
      {{ form.archivo_pdf_liquidacion }}
      {% if form.archivo_pdf_liquidacion.clear_checkbox_label %}
        <label class="inline-flex items-center mt-2">
          {{ form.archivo_pdf_liquidacion.clear }} {{ form.archivo_pdf_liquidacion.clear_checkbox_label }}
        </label>
      {% endif %}
    </div>

    <!-- Archivo PDF firmado -->
    <div class="md:col-span-2">
      <label class="block font-semibold text-gray-700 mb-1">Liquidación de sueldo firmada:</label>
      {% if form.instance.pdf_firmado %}
        <p class="text-sm text-gray-600 mb-2">
          Actualmente: <code>{{ form.instance.pdf_firmado.name }}</code>
        </p>
      {% endif %}
      {{ form.pdf_firmado }}
      {% if form.pdf_firmado.clear_checkbox_label %}
        <label class="inline-flex items-center mt-2">
          {{ form.pdf_firmado.clear }} {{ form.pdf_firmado.clear_checkbox_label }}
        </label>
      {% endif %}
    </div>

    <!-- Fecha firma -->
    <div>
      {{ form.fecha_firma.label_tag }}
      {{ form.fecha_firma }}
    </div>

    <!-- Firmada -->
    <div>
      {{ form.firmada.label_tag }}
      {{ form.firmada }}
    </div>

    <!-- Botones -->
    <div class="md:col-span-2 flex justify-end gap-4 mt-6">
      <a href="{% url 'liquidaciones:admin_lista' %}" class="text-blue-600 hover:underline">← Volver</a>
      <button type="submit" class="bg-green-600 text-white px-6 py-2 rounded hover:bg-green-700 font-medium">
        Guardar Cambios
      </button>
    </div>
  </form>
</div>
{% endblock %}
{% extends 'dashboard_admin/base.html' %}

